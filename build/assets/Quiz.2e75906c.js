import{u as _,r as l}from"./vendor.edc3782b.js";import{u as C}from"./formik.esm.38e53b40.js";import{u as E,j as n,a as t,L as S}from"./index.c61882f9.js";import{E as B,P as N,Q}from"./index.f7a38379.js";import{s as H,O as L}from"./index.8d365736.js";import{R as O}from"./index.94cfcb21.js";import{B as R}from"./Box.3fa468e8.js";import{B as k}from"./Button.328e6b0b.js";const p=e=>e.results.filter(r=>r.correct_answer===r.given_answer).length,h=e=>e.results.filter(r=>{if(r.given_answer!=="")return r.correct_answer!==r.given_answer}).length,V=()=>{const{APIResponse:e,setAPIResponse:r,numberOfQuestions:o,loading:g,setLoading:u,setReport:b,report:d,currentQuestion:a,setCurrentQuestion:x}=E(),w=_(),[m,j]=l.exports.useState([]),{handleSubmit:v,values:f,handleChange:A}=C({initialValues:{answer:""},onSubmit:({answer:s})=>{if(!!s){if(u(!0),j([...m,s]),a==o)return u(!1),w.push("/resultados");x(a+1),u(!1)}}});return l.exports.useEffect(()=>{f.answer="";const s=JSON.parse(JSON.stringify(e));m.forEach((c,i)=>{s.results[i].given_answer=c}),r(s)},[m,r,o]),l.exports.useEffect(()=>{b({score:{correctAnswers:p(e),wrongAnswers:h(e),total:o}})},[e,p,h]),n(l.exports.Fragment,{children:t(B,{children:[g&&n(S,{}),n(N,{children:t(Q,{children:[n("main",{children:t(R,{sx:{height:"100%"},component:"form",onSubmit:v,children:[e.results.map((s,c)=>c!==a-1?null:t("div",{className:"mb-6",children:[n("div",{className:"mb-6",children:n("label",{className:"font-roboto",dangerouslySetInnerHTML:{__html:H(s.question)}})}),s.answers.map((i,y)=>n(L,{value:i,text:i,selected:f.answer===i,name:"answer",type:"radio",onChange:A},`${i} key: ${y}`))]},`${s.difficulty} key: ${c}`)),t(k,{type:"submit",variant:"contained",children:[a<o&&"Avan\xE7ar",a==o&&"Finalizar"]})]})}),n("footer",{className:"absolute bottom-4 left-4",children:t(O,{children:[t("span",{children:["Acertos: ",d.score.correctAnswers]}),t("span",{children:["Erros: ",d.score.wrongAnswers]}),t("span",{children:["Total: ",a,"/",o]})]})})]})})]})})};export{V as default};
